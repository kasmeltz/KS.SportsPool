@using KS.SportsPool.MVC.Models;
@using KS.SportsPool.Data.POCO;
@model AthleteListViewModel
    
@{
    var groups = Model.Athletes.GroupBy(ath => ath.GroupName);
    foreach (var group in groups)
    {
        Athlete groupAthlete = group.FirstOrDefault();
        <div>
            <h2>
                @groupAthlete.GroupName
            </h2>
        </div>
        <div class="table">
            <div class="tr">
                <span class="td">&nbsp;</span>
                <span class="td">Team</span>
                <span class="td">First Name</span>
                <span class="td">Last Name</span>
                <span class="td">Position</span>
                <span class="td">Goals</span>
                <span class="td">Assists</span>
            </div>
            @foreach (Athlete athlete in group)
            {
                Html.RenderPartial("AthleteGrid", new AthleteViewModel { Athlete = athlete, Teams = Model.Teams });
            }
        </div>
    }
}     
